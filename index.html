<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dessert Pricing Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #FFFCF9;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input, select, button {
            margin-bottom: 10px;
            padding: 8px;
            width: 100%;
        }
        .result {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Dessert Pricing Calculator</h1>
    <form id="orderForm">
        <label for="name">Name:</label>
        <input type="text" id="name" required>

        <label for="email">Email:</label>
        <input type="email" id="email" required>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" required>

        <label for="zip">Zip Code:</label>
        <input type="text" id="zip" required>

        <label for="allergies">Allergies:</label>
        <input type="text" id="allergies" placeholder="Type 'none' if no allergies">

        <label for="dessertType">Dessert Type:</label>
        <select id="dessertType">
            <option value="cookies">Cookies</option>
            <option value="cupcakes">Cupcakes</option>
            <option value="lunchbox_cake">Lunchbox Cake</option>
        </select>

        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" min="1" required>

        <label for="mixins">Mix-ins:</label>
        <select id="mixins" multiple>
            <option value="chocolate_chunks">Chocolate Chunks</option>
            <option value="toffee_bits">Toffee Bits</option>
            <option value="m&ms">M&Ms</option>
            <option value="chopped_pecans">Chopped Pecans</option>
            <option value="macadamia_nuts">Macadamia Nuts</option>
            <option value="white_chocolate_chips">White Chocolate Chips</option>
            <option value="matcha">Matcha</option>
            <option value="ganache">Ganache</option>
            <option value="salted_caramel">Salted Caramel</option>
            <option value="fruit_preserves">Fruit Preserves</option>
            <option value="pastry_cream">Pastry Cream</option>
            <option value="none">None</option>
        </select>

        <button type="button" onclick="handleOrder()">Calculate Price</button>
    </form>

    <div id="output" class="result"></div>

    <script src="calculator.js"></script>
    <script>
        function handleOrder() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const zip = document.getElementById('zip').value;
            const allergies = document.getElementById('allergies').value;
            const dessertType = document.getElementById('dessertType').value;
            const quantity = parseInt(document.getElementById('quantity').value, 10);

            // Get selected mix-ins
            const mixinsSelect = document.getElementById('mixins');
            const mixins = Array.from(mixinsSelect.selectedOptions).map(option => option.value);

            try {
                const price = calculatePrice(dessertType, quantity, mixins);
                document.getElementById('output').innerHTML = `
                    <p>Order Summary:</p>
                    <p>Name: ${name}</p>
                    <p>Email: ${email}</p>
                    <p>Phone: ${phone}</p>
                    <p>Zip Code: ${zip}</p>
                    <p>Allergies: ${allergies}</p>
                    <p>Dessert: ${dessertType}</p>
                    <p>Quantity: ${quantity}</p>
                    <p>Mix-ins: ${mixins.map(mixin => mixin.replace('_', ' ')).join(', ')}</p>
                    <p>Total Price: $${price.toFixed(2)}</p>
                `;
            } catch (error) {
                document.getElementById('output').textContent = error.message;
            }
        }
    </script>
</body>
</html>
